<div class="col-md-6">
  <div class="box box-primary text-center">
    <div class="box-header">
      <h3 class="box-title">Programare</h3>
    </div>
    <div class="box-body">
        <button type="button" class="btn btn-block btn-primary" data-toggle="modal" data-target="#modal-default"><i class="fa fa-calendar-plus-o"></i> Adauga Programare</button>
    </div>
    <!-- /.box-body -->
  </div>
</div>

<!-- <div class="col-md-6">
  <h3>Adauga Programare</h3>
  <div class="form-group">
    <label>Selecteaza Data:</label>
    <div class="input-group date">
        <owl-date-time-inline
        [min]="minDate"
        [owlDateTimeFilter]="myFilter"
        [(ngModel)]="selectedMoment"
        [pickerType]="'calendar'"
        (click)="onInputChange()"
        [firstDayOfWeek]="1"
        ></owl-date-time-inline>
    </div>
  </div>
  <div *ngIf="selectedMoment">
    <hr>
    <div >
      <div class="box box-primary box-solid" *ngIf="toggleSchedule">
        <div class="box-header">
          <h3 class="box-title">Selecteaza Ora</h3>
        </div>
        <div class="box-body">
          <p *ngIf="selectedMoment && this.schedule.length == 0 ">Nu sunt ore disponibile in data selectata</p>
          <div *ngIf="selectedMoment && this.schedule.length > 0">
            <div class="form-group" *ngFor="let time of schedule; let i=index">
              <div class="radio">
                <label>
                  <input (click)="onSelectTime(i)" type="radio" name="optionsRadios" [value]="i">
                  {{time.from | date: 'HH: mm'}} - {{time.to | date: 'HH: mm'}}
                </label>
              </div>
              <hr>
            </div>
            <div *ngIf="this.scheduleIndex >= 0">
              <h4><i class="fa fa-calendar-check-o"></i><strong> {{selectedMoment | date:'MMMM d'}}</strong></h4>
              <h4><i class="fa fa-clock-o"></i> {{schedule[scheduleIndex].from | date: 'HH: mm'}} - {{schedule[scheduleIndex].to | date: 'HH: mm'}}</h4>
              <hr>
              <button (click)="addNewAppointment()" type="button" class="btn btn-block btn-primary">Adauga Programarea</button>
            </div>
          </div>
        </div>


        <div class="overlay" *ngIf="loading">
          <i class="fa fa-refresh fa-spin"></i>
        </div>

      </div>
      <div class="alert alert-{{result.status}} alert-dismissible" *ngIf="displayResult">
        <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
        <h4><i class="icon fa fa-check"></i> Solicitarea a fost trimisa!</h4>
        <h4><i class="fa fa-calendar-check-o"></i><strong> {{selectedMoment | date:'MMMM d'}}</strong></h4>
        <h4><i class="fa fa-clock-o"></i> {{result.from | date: 'HH: mm'}} - {{result.to | date: 'HH: mm'}}</h4>
      </div>
    </div>
  </div>
</div> -->
<div class="modal fade" id="modal-default" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">×</span></button>
          <h3>Adauga Programare</h3>
      </div>
      <div class="modal-body">
        <div class="">
          <div class="form-group">
            <label>Selecteaza Data:</label>
            <hr>
            <div class="input-group date">
                <owl-date-time-inline
                [min]="minDate"
                [owlDateTimeFilter]="myFilter"
                [(ngModel)]="selectedMoment"
                [pickerType]="'calendar'"
                (click)="onInputChange()"
                [firstDayOfWeek]="1"
                ></owl-date-time-inline>
            </div>
          </div>
          <div *ngIf="selectedMoment">
            <div >
              <div class="box box-primary box-solid" *ngIf="toggleSchedule">
                <div class="box-header">
                  <h3 class="box-title">Selecteaza Ora</h3>
                </div>
                <div class="box-body">
                  <p *ngIf="selectedMoment && this.schedule.length == 0 ">Nu sunt ore disponibile in data selectata</p>
                  <div *ngIf="selectedMoment && this.schedule.length > 0">
                    <div class="form-group" *ngFor="let time of schedule; let i=index">
                      <div class="radio">
                        <label>
                          <input (click)="onSelectTime(i)" type="radio" name="optionsRadios" [value]="i">
                          {{time.from | date: 'HH: mm'}} - {{time.to | date: 'HH: mm'}}
                        </label>
                      </div>
                      <hr>
                    </div>
                    <div *ngIf="this.scheduleIndex >= 0">
                      <h4><i class="fa fa-calendar-check-o"></i><strong> {{selectedMoment | date:'MMMM d'}}</strong></h4>
                      <h4><i class="fa fa-clock-o"></i> {{schedule[scheduleIndex].from | date: 'HH: mm'}} - {{schedule[scheduleIndex].to | date: 'HH: mm'}}</h4>
                      <hr>
                      <button (click)="addNewAppointment()" type="button" class="btn btn-block btn-primary">Adauga Programarea</button>
                    </div>
                  </div>
                </div>
                <!-- /.box-body -->
                <!-- Loading (remove the following to stop the loading)-->
                <div class="overlay" *ngIf="loading">
                  <i class="fa fa-refresh fa-spin"></i>
                </div>
                <!-- end loading -->
              </div>
              <div class="alert alert-{{result.status}} alert-dismissible" *ngIf="displayResult">
                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                <h4><i class="icon fa fa-check"></i> Programarea a fost efectuata cu success!</h4>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Inapoi</button>
      </div>
    </div>
    <!-- /.modal-content -->
  </div>
</div>
